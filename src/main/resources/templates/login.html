<!DOCTYPE html>
<html xmlns:th = "http://thymeleaf.org">
	<head>
		<title>Login</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
	<link rel="stylesheet" type = "text/css" href = "/css/tasklist.css"/>
    <link rel="stylesheet" type = "text/css" href = "/css/login.css" />
    	<script src="https://kit.fontawesome.com/647e4ec669.js" crossorigin="anonymous"></script>
	</head>
<!--  -->
	<nav class="navbar navbar-expand-lg navbar-light bg-light">Welcome to TaskList</nav>
		<div class = "container">
		<form action="" method="post" id = "form">
			<input type = "hidden" th:name = "${_csrf.parameterName}" th:value="${_csrf.token}"/>
				<fieldset>
					<legend class = "login">Please Login</legend>
					<!-- use param.error assuming FormLoginConfigurer#failureUrl contains the query parameter error -->
					
					<div th:if="${param.error != null}">
						Failed to login.
					<div th:if ="${SPRING_SECURITY_LAST_EXCEPTION != null}">
                 		 Reason: <span
						th:text="${SPRING_SECURITY_LAST_EXCEPTION.message}" > </span>
					</div>
					</div>
					<!-- the configured LogoutConfigurer#logoutSuccessUrl is /login?logout and contains the query param logout -->
					<div th:if ="${param.logout != null}">You have been logged out.</div>	
						
						<div class = "label">
							<label for="username">Username</label> 
						</div>
						<div class = "input">
							<input type="text" id="username" name="username" />
						</div>
						<div class = "label">
							<label id = "password" for="password">Password</label>
						</div>
						<div class = "input">
							<input type="password" id="inputPassword" name="password" ><i id = "passwordEyeIcon" class="far fa-eye"></i>
						</div>
						<p>
						</p>
					<div class = "div-pad">
						<button type="submit" class="btn" id = "submitBtn">Log in</button>
						<a href="/register" id = "register">Register Now</a>
					</div>
				</fieldset>
		</form>
	</div>
<script type = "text/javascript" src = "/js/login.js" ></script>
<script th:inline ="javascript">var token = /*[[${_csrf.token}]]*/''</script> 
</html>